!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.createColResizable=t():e.createColResizable=t()}(window,function(){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){e.exports=i(1)},function(e,t,i){"use strict";i.r(t);var n=function(e){return"[object Function]"===Object.prototype.toString.call(e)},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=parseInt(e,10);return isNaN(i)?t:i};function s(e,t){t&&(Array.isArray(e)?e:[e]).forEach(function(e){e.classList?e.classList.add(t.split(" ")):e.className+=" "+t})}var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();var l=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=r({},e.defaults,i),this.domElmTable=t,this.onGripMouseDown=this.onGripMouseDown.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.init()}return a(e,[{key:"init",value:function(){s(this.domElmTable,"table-col-resizer"),this.domElmHandleList=[],this.domElmTableTheadThList=[],this.tableWidth=this.domElmTable.offsetWidth+"px",this.cellSpacing=o(getComputedStyle(this.domElmTable).getPropertyValue("border-spacing")),this.borderLeftWidth=o(getComputedStyle(this.domElmTable).getPropertyValue("border-left-width")),this.createGrips()}},{key:"createGrips",value:function(){var e=this,t=this.domElmTable.querySelectorAll("thead th"),i=[];this.domElmHandleContainer=this.domElmTable.previousSibling;var n=this.domElmHandleContainer&&"col-resize-container"===this.domElmHandleContainer.className;n?Array.prototype.push.apply(this.domElmHandleList,this.domElmHandleContainer.childNodes):(this.domElmTable.insertAdjacentHTML("beforebegin",'<div class="col-resize-container"/>'),this.domElmHandleContainer=this.domElmTable.previousSibling),Array.prototype.push.apply(i,t),this.thLength=i.length,this.lastThIndex=this.thLength-1;var o,r=this.options.disabledColumns;o=r,"[object Array]"!==Object.prototype.toString.call(o)&&(r=[]),i.forEach(function(t,i){var o=-1!==r.indexOf(i),a=void 0;n?a=e.domElmHandleList[i]:(e.domElmHandleContainer.insertAdjacentHTML("beforeend",'<div class="drag-handle">\n          <i class="icon icon-caret-right"></i>\n          <div class="col-resizer"></div>\n          <i class="icon icon-caret-left"></i>\n        </div>'),a=e.domElmHandleContainer.lastChild),i!==e.lastThIndex||n||s(a,"last-handle"),o||n?o&&!n&&s(a,"disabled-drag"):a.addEventListener("mousedown",e.onGripMouseDown),a.index=i,t.w=t.offsetWidth,t.style.width=t.offsetWidth+"px",n||e.domElmHandleList.push(a),e.domElmTableTheadThList.push(t)}),this.syncGrips()}},{key:"syncGrips",value:function(){var e=this.options.headerOnly,t=this.domElmTableTheadThList[0].offsetHeight,i=void 0;i=e?t:this.domElmTable.offsetHeight;for(var n=0;n<this.thLength;n+=1){var s=this.domElmTableTheadThList[n],r=void 0;if(0===n)r=s.offsetWidth+this.cellSpacing/2;else{var a=this.domElmHandleList[n-1].style.left+this.cellSpacing/2;r=o(a)+s.offsetWidth}this.domElmHandleList[n].style.left=r+"px",this.domElmHandleList[n].style.height=i+"px"}var l=[],d=this.domElmHandleContainer.querySelector(".col-resize-container .icon").offsetHeight,h=this.domElmHandleContainer.querySelectorAll(".col-resize-container .icon");Array.prototype.push.apply(l,h),l.forEach(function(e){var i=(t-d)/2;e.style.marginTop=o(i)+"px"})}},{key:"onGripMouseDown",value:function(e){e.preventDefault();var t=e.currentTarget.index,i=this.domElmHandleList[t];return s(i,"active-drag"),i.initPageLeftX=e.pageX,i.initLeft=o(i.style.left),i.x=i.initLeft,this.drag=i,document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp),!1}},{key:"onMouseMove",value:function(e){if(e.preventDefault(),!this.drag)return!1;var t=this.options.defaultMinWidth,i=this.drag.index,s=t,r=e.pageX-this.drag.initPageLeftX+this.drag.initLeft,a=1.5*this.cellSpacing+s+this.borderLeftWidth,l=i?o(this.domElmHandleList[i-1].style.left)+this.cellSpacing+s:a,d=o(this.domElmHandleList[i+1].style.left)-this.cellSpacing-s,h=(r=Math.max(l,Math.min(d,r)))-this.drag.initLeft,u=this.domElmTableTheadThList[i],c=this.domElmTableTheadThList[i+1],f=u.w+h,m=c.w-h,p=o(this.domElmTableTheadThList[i].getAttribute("data-min-width")),v=o(this.domElmTableTheadThList[i+1].getAttribute("data-min-width"));if(p>f?r=p-u.w+this.drag.initLeft:v>m&&(r=c.w-v+this.drag.initLeft),this.drag.x=r,this.drag.style.left=r+"px",this.options.liveDrag){this.syncCols(i),this.syncGrips();var b=this.options.onResizing;n(b)&&b(e)}return!1}},{key:"syncCols",value:function(e,t){var i=this.drag.x-this.drag.initLeft,n=this.domElmTableTheadThList[e],o=this.domElmTableTheadThList[e+1],s=n.w+i,r=o.w-i;n.style.width=s+"px",o.style.width=r+"px",t&&(n.w=s,o.w=r)}},{key:"onMouseUp",value:function(e){if(document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mousemove",this.onMouseMove),!this.drag)return!1;var t,i;if(t=this.drag,(i="active-drag")&&(Array.isArray(t)?t:[t]).forEach(function(e){e.classList?e.classList.remove(i.split(" ")):e.className=e.className.replace(new RegExp("(^|\\b)"+i.split(" ").join("|")+"(\\b|$)","gi")," ")}),this.drag.x-this.drag.initLeft!=0){var o=this.drag.index;this.syncCols(o,!0),this.syncGrips();var s=this.options.onResized;n(s)&&s(e)}return this.drag=null,!0}}]),e}();l.defaults={liveDrag:!0,defaultMinWidth:30,headerOnly:!0,disabledColumns:[],onResizing:null,onResized:null};var d=l;t.default=function(e,t){return i=e,"[object HTMLTableElement]"===Object.prototype.toString.call(i)&&"TABLE"===e.nodeName?e.__resizable||(e.__resizable=new d(e,t)):null;var i}}]).default});
//# sourceMappingURL=resizable-columns-table.min.js.map